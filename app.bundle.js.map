{"version":3,"sources":["webpack:///webpack/bootstrap 064ee131e8b659755f1e","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"react\"","webpack:///external \"axios\"","webpack:///./locales/en.json","webpack:///./locales/zh.json","webpack:///external \"express\"","webpack:///external \"babel-runtime/core-js/object/get-prototype-of\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"babel-runtime/helpers/possibleConstructorReturn\"","webpack:///external \"babel-runtime/helpers/inherits\"","webpack:///external \"prop-types\"","webpack:///external \"react-redux\"","webpack:///external \"redux\"","webpack:///./client/js/redux/reducers/ajaxStatusReducer.js","webpack:///./app.js","webpack:///./main.js","webpack:///./server/middlewares/languageHandler.js","webpack:///external \"babel-runtime/core-js/object/keys\"","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///./server/lib/utils.js","webpack:///./locales ^\\.\\/.*\\.json$","webpack:///./server/middlewares/errorHandler.js","webpack:///./server/middlewares/lowercaseUrlHandler.js","webpack:///external \"url\"","webpack:///external \"express-async-errors\"","webpack:///external \"nocache\"","webpack:///external \"helmet\"","webpack:///external \"path\"","webpack:///./config.json","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"express-session\"","webpack:///external \"express-useragent\"","webpack:///./server/controllers/homeController.js","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"react-dom/server\"","webpack:///./IntlWrapper.js","webpack:///external \"babel-runtime/helpers/toConsumableArray\"","webpack:///external \"babel-polyfill\"","webpack:///external \"react-intl\"","webpack:///external \"react-intl/locale-data/en\"","webpack:///external \"react-intl/locale-data/zh\"","webpack:///./client/js/redux/store.js","webpack:///external \"redux-thunk\"","webpack:///./client/js/redux/rootReducer.js","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///./client/js/containers/SMSVC.js","webpack:///./client/js/redux/actions/generalActions.js","webpack:///external \"twilio\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","require","home","state","arguments","length","undefined","initialState","action","type","SERVER_ERROR","_extends3","default","isServerError","isSubmitSuccess","isLoading","isSubmitting","serverStatus","serverMessage","serverErrors","FETCH_PENDING","FETCH_COMPLETE","SUBMIT_PENDING","sendForm","SUBMIT_COMPLETE","RESET_STATUS","sendFrom","app","process","env","environment","NODE_ENV","isProduction","port","PORT","host","HOST","listen","console","log","express","nocache","helmet","path","config","__dirname","bodyParser","cookieParser","use","set","join","static","clientPath","global","__base","session","sessionConfig","secret","cookie","httpOnly","proxy","resave","saveUninitialized","secure","useragent","lowercaseUrlHandler","languageHandler","urlencoded","extended","json","errorHandler","req","res","status","render","axios","defaults","params","translationConfigs","pattern","fileName","_callee","next","language","locale","additionTranslation","allTranslations","langUrl","_regenerator2","wrap","_context","prev","url","match","xhr","headers","accept","indexOf","cookies","abrupt","redirect","toLowerCase","originalUrl","utils","getLanguage","forEach","translations","_assign2","ex","_keys2","localeData","langId","id","locals","languageText","text","stop","this","maxAge","languageCookieName","languages","en-us","en_us","zh-hk","zh_hk","languageCode","setLanguage","setUserSession","data","token","userToken","pinCode","quotationId","map","./en.json","./zh.json","webpackContext","webpackContextResolve","Error","keys","resolve","error","ip","connection","remoteAddress","socket","stack","response","destroy","message","parsedUrl","method","parse","pathname","format","sms-vc","webUrl","api","defaultApiUrl","username","password","level","info_filepath","error_filepath","cloudinary","imageUrlPrefix","cloud_name","api_key","api_secret","assetUrlPrefix","assetFolder","router","Router","client","post","_ref","_asyncToGenerator3","mark","messages","create","from","to","body","then","send","_stringify2","success","catch","err","_x","_x2","apply","_ref2","_callee2","lang","appHtml","preloadedState","_context2","ReactDOMServer","renderToString","_react2","createElement","_IntlWrapper2","store","_SMSVC2","getState","appData","_x3","_x4","_react","_reactRedux","_reactIntl","Fragment","props","children","addLocaleData","concat","_toConsumableArray3","en","zh","parentLocale","IntlWrapper","_props","Provider","IntlProvider","textComponent","Component","propTypes","PropTypes","isRequired","string","node","createStoreWithState","_redux","createStore","rootReducer","composedEnhancers","middleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","composeFn","applyMiddleware","combineReducers","ajaxStatus","ajaxStatusReducer","_generalActions","App","sendmycode","className","style","margin","onClick","func","connect","_this","dispatch","result","sent","t0","_ajaxStatusReducer"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 064ee131e8b659755f1e","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/asyncToGenerator\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 3\n// module chunks = 0","module.exports = {\"home\":\"SMS-VC\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./locales/en.json\n// module id = 4\n// module chunks = 0","module.exports = {\"home\":\"短信验证码\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./locales/zh.json\n// module id = 5\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/get-prototype-of\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/classCallCheck\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/classCallCheck\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/createClass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/createClass\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/possibleConstructorReturn\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"babel-runtime/helpers/inherits\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/inherits\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 14\n// module chunks = 0","export const SERVER_ERROR = 'beyondcars/ajaxStatus/fetchDataServerError';\nexport const FETCH_PENDING = 'beyondcars/ajaxStatus/fetchPending';\nexport const FETCH_COMPLETE = 'beyondcars/ajaxStatus/fetchComplete';\nexport const SUBMIT_PENDING = 'beyondcars/ajaxStatus/submitPending';\nexport const SUBMIT_COMPLETE = 'beyondcars/ajaxStatus/submitComplete';\nexport const RESET_STATUS = 'beyondcars/ajaxStatus/resetStatus';\n\nexport const initialState = {\n    isServerError: false,\n    isLoading: false,\n    isSubmitting: false,\n    isSubmitSuccess: false,\n    serverStatus: '',\n    serverMessage: '',\n    sendFrom: '',\n    serverErrors: []\n};\n\nexport default function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case SERVER_ERROR:\n            return {\n                ...state,\n                isServerError: true,\n                isSubmitSuccess: false,\n                isLoading: false,\n                isSubmitting: false,\n                serverStatus: action.serverStatus,\n                serverMessage: action.serverMessage,\n                serverErrors: action.serverErrors\n            };\n        case FETCH_PENDING:\n            return {\n                ...state,\n                isLoading: true\n            };\n        case FETCH_COMPLETE:\n            return {\n                ...state,\n                isLoading: false,\n                isServerError: false,\n                isSubmitSuccess: false,\n                serverStatus: ''\n            };\n        case SUBMIT_PENDING:\n            return {\n                ...state,\n                isServerError: false,\n                isSubmitting: true,\n                isSubmitSuccess: false,\n                serverStatus: '',\n                serverMessage: '',\n                sendForm: action.sendForm\n            };\n        case SUBMIT_COMPLETE:\n            return {\n                ...state,\n                isSubmitting: false,\n                isSubmitSuccess: true,\n                isServerError: false\n            };\n        case RESET_STATUS:\n            return {\n                ...state,\n                isServerError: false,\n                isLoading: false,\n                isSubmitting: false,\n                isSubmitSuccess: false,\n                serverStatus: '',\n                serverMessage: ''\n            };\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/redux/reducers/ajaxStatusReducer.js","const app = require('./main.js');\n\n// Temporary hack to ignore SSL certificates\nprocess.env['NODE_TLS_REJECT_UNAUTHORIZED'] = 0;\n\nconst environment = process.env.NODE_ENV || 'development';\nconst isProduction = environment === 'production';\n\nconst port = process.env.PORT || 3001;\nconst host = process.env.HOST || 'localhost';\n\nif (isProduction) {\n    // Since the production app will be put behind a load balancer (Nginx) which terminates https connections,\n    // we use http here. AND WE CANNOT USE app.listen(port, host, function()) since binding the host (to localhost)\n    // will fail the health check by the load balancer which pings the Node instance by IP.\n    app.listen(port, function () {\n        console.log('Production server listening on port ' + port + '...');\n    });\n\n} else {\n    app.listen(port, host, function () {\n        console.log(`Server is running on http://${host}:${port} in ${environment} mode`);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app.js","\"use strict\";\nconst express = require('express');\nrequire('express-async-errors');\nconst nocache = require('nocache');\n\nconst helmet = require('helmet');\nimport languageHandler from './server/middlewares/languageHandler';\nimport errorHandler from './server/middlewares/errorHandler';\nimport lowercaseUrlHandler from './server/middlewares/lowercaseUrlHandler';\nconst app = express(),\n    path = require('path'),\n    config = require(__dirname + '/config'),\n    bodyParser = require('body-parser'),\n    cookieParser = require('cookie-parser');\n\napp.use(helmet());\n\n//app properties setting\napp.set('view engine', 'ejs');\napp.set('views', path.join(__dirname, '/server/views'));\napp.set('view cache', false);\n\napp.use(express.static(path.join(__dirname, (config.clientPath || '/public'))));\n\nglobal.__base = __dirname;\n\napp.use(cookieParser());\n\nconst session = require('express-session');\nconst sessionConfig = {\n    secret: '84t5Qy1C!Whl5rRKS#Wq%hz*%sMaNssL',\n    cookie: {\n        httpOnly: true\n    },\n    proxy: true,  // Trust the reverse proxy when setting secure cookies (via the \"X-Forwarded-Proto\" header)\n    resave: false,\n    saveUninitialized: false\n};\n\nif (process.env.NODE_ENV === 'production') {\n    // app.set('trust proxy', 1);  // trust first proxy\n    sessionConfig.cookie.secure = true;  // serve secure cookies\n}\napp.use(session(sessionConfig));\n\nconst useragent = require('express-useragent');\napp.use(useragent.express());\napp.use(lowercaseUrlHandler);\napp.use(languageHandler);\n\napp.use(bodyParser.urlencoded({ extended: false }));\n// parse application/json\napp.use(bodyParser.json());\n\napp.use(nocache());\n\n//routes setting\napp.use(require('./server/controllers/homeController'));\napp.use(errorHandler);\napp.get('*', function (req, res) {\n    res.status(404);\n    res.render('error');\n});\n\nmodule.exports = app;\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","import axios from 'axios';\nimport utils from '../lib/utils';\n\naxios.defaults.params = axios.defaults.params || {};\n\nconst translationConfigs = [\n    {\n        pattern: /^\\/(sale\\/double11|sale\\/vnshow|sale\\/blackfriday|sale\\/christmas|keepsakes|travel-must-haves|authentic-experiences|bubbles|sale\\/cny|sale\\/easter|sale\\/central-vietnam-travel)/i,\n        fileName: 'campaign'\n    }\n];\n\nexport default async function languageHandler(req, res, next) {\n    const match = req.url.match(/^\\/([A-Za-z]{2}-[A-Za-z]{2})([\\/\\?].*)?$/i);\n    if (!match && !(req.xhr || (req.headers.accept && req.headers.accept.indexOf('json') >= 0))) {\n        if (req.cookies && req.cookies['lang']) {\n            return res.redirect(`/${req.cookies['lang'].toLowerCase()}${req.originalUrl}`);\n        } else {\n            if (req.originalUrl === '/') {\n                res.redirect('/en-us');\n            } else {\n                res.redirect(`/en-us${req.originalUrl}`);\n            }\n        }\n    } else {\n        const language = utils.getLanguage(req, res);\n        const locale = language.locale;\n\n        let additionTranslation = {};\n        translationConfigs.forEach(function (config) {\n            if (req.url.match(config.pattern)) {\n                try {\n                    const translations = require(`../../locales/${locale}/${config.fileName}.json`);\n                    if (translations) {\n                        additionTranslation = Object.assign(additionTranslation, translations);\n                    }\n                } catch (ex) {\n                    console.log(ex);\n                }\n            }\n        });\n\n        let allTranslations = {};\n        if (Object.keys(additionTranslation).length === 0) {\n            allTranslations = language.translations;\n        } else {\n            allTranslations = Object.assign({}, language.translations, additionTranslation);\n        }\n\n        // SET LOCALE INTO REQUEST\n        const langUrl = `/${language.locale}`;\n\n        req.langUrl = langUrl;\n        req.locale = locale;\n\n        req.localeData = {};\n        req.localeData[locale] = allTranslations;\n        req.langId = language.id;\n\n        axios.defaults.params['langId'] = language.id;\n\n        // SET DATA INTO RESPONSE\n        res.locals.translations = allTranslations;\n        res.locals.locale = locale;\n        res.locals.langUrl = langUrl;\n\n        res.locals.languageText = language.text;\n\n        next();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/languageHandler.js","module.exports = require(\"babel-runtime/core-js/object/keys\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/keys\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"babel-runtime/core-js/object/assign\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/object/assign\"\n// module id = 20\n// module chunks = 0","import en_us from '../../locales/en.json';\nimport zh_hk from '../../locales/zh.json';\n\nconst maxAge = 30 * 24 * 3600000; // 30 days\nconst languageCookieName = 'lang';\n\nconst languages = {\n    'en-us': { id: 1, translations: en_us, text: 'English', locale: 'en-us' },\n    'zh-hk': { id: 2, translations: zh_hk, text: '繁體中文', locale: 'zh-hk' },\n};\n\nfunction getLanguage(req, res) {\n    let languageCode = 'en-us';\n    const match = req.url.match(/^\\/([A-Za-z]{2}-[A-Za-z]{2})([\\/\\?].*)?$/i);\n\n    if (match) {\n        languageCode = match[1];\n        req.url = match[2] || '/';\n    }\n\n    // Get language from cookie if ajax request\n    if ((req.xhr || (req.headers.accept && req.headers.accept.indexOf('json') >= 0)) && req.cookies && req.cookies[languageCookieName]) {\n        languageCode = req.cookies[languageCookieName].toLowerCase();\n    }\n\n    if (!languages[languageCode]) {\n        languageCode = 'en-us';\n    }\n\n    res.cookie(languageCookieName, languageCode, {\n        maxAge: maxAge,\n        path: '/'\n    });\n\n    return languages[languageCode];\n}\n\nfunction setLanguage(res, languageCode) {\n    if (languageCode) {\n        res.cookie('lang', languageCode, {\n            maxAge: maxAge,\n            path: '/'\n        });\n    }\n}\n\nfunction setUserSession(req, data) {\n    if (data.token) {\n        req.session.userToken = data.token;\n    }\n    if (data.pinCode) {\n        req.session.pinCode = data.pinCode;\n    }\n    if (data.quotationId) {\n        req.session.quotationId = data.quotationId;\n    }\n}\n\nmodule.exports = {\n    languages: languages,\n    getLanguage: getLanguage,\n    setLanguage: setLanguage,\n    setUserSession: setUserSession\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/lib/utils.js","var map = {\n\t\"./en.json\": 4,\n\t\"./zh.json\": 5\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 22;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./locales ^\\.\\/.*\\.json$\n// module id = 22\n// module chunks = 0","// CATCH UP ALL ERRORS FROM SYSTEM EXCLUDE PROXY ERROR\n\nexport default function errorHandler(error, req, res, next) {\n    const ip = req.headers['x-forwarded-for'] ||\n        req.connection.remoteAddress ||\n        req.socket.remoteAddress ||\n        (req.connection.socket ? req.connection.socket.remoteAddress : null);\n    console.error(`Client IP: ${ip}, RequestUrl: ${req.originalUrl}`);\n    console.error(error.stack);\n\n    const response = error.response;\n\n    if (response && response.status === 401 && req.session && req.session.userToken) {\n        req.session.destroy();\n    }\n\n    // AJAX REQUEST\n    if (req.xhr || (req.headers.accept && req.headers.accept.indexOf('json') > -1)) {\n        if (!response) {\n            res.status(500).json({ message: \"INTERNAL SERVER ERROR\" });\n        } else {\n            res.status(response.status).json(response.data);\n        }\n    } else {\n        if (!response) {\n            res.status(500);\n            res.render('error');\n        } else {\n            switch (response.status) {\n                case 401:\n                case 400:\n                case 404: {\n                    res.status(response.status);\n                    res.render('error');\n                    break;\n                }\n\n                default: {\n                    res.status(500);\n                    res.render('error');\n                    break;\n                }\n            }\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/errorHandler.js","const url = require('url');\n\nexport default async function lowercaseUrlHandler(req, res, next) {\n    if (req.method === 'GET' && req.path.toLowerCase() !== req.path) {\n        const parsedUrl = url.parse(req.originalUrl);\n        parsedUrl.pathname = parsedUrl.pathname.toLowerCase();\n\n        return res.redirect(301, url.format(parsedUrl));\n    } else {\n        next()\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/lowercaseUrlHandler.js","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"express-async-errors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-async-errors\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"nocache\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nocache\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 29\n// module chunks = 0","module.exports = {\"clientPath\":\"/public\",\"sms-vc\":{\"webUrl\":\"https://localhost:3001\"},\"api\":{\"defaultApiUrl\":\"http://127.0.0.1:8091\",\"username\":\"user\",\"password\":\"pass\"},\"log\":{\"level\":\"debug\",\"info_filepath\":\"logs/ff-info.log\",\"error_filepath\":\"logs/ff-error.log\"},\"cloudinary\":{\"imageUrlPrefix\":\"https://res.cloudinary.com/sms-vc/image/upload/q_auto,f_auto\",\"cloud_name\":\"sms-vc\",\"api_key\":\"smsvc9999999999999\",\"api_secret\":\"smsvc888888888888\",\"assetUrlPrefix\":\"https://res.cloudinary.com/sms-vc/raw/upload/q_auto,f_auto\",\"assetFolder\":\"sms-vc/assets\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config.json\n// module id = 30\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"express-useragent\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-useragent\"\n// module id = 34\n// module chunks = 0","\"use strict\";\n\nconst router = require(\"express\").Router();\nimport React from \"react\";\nimport ReactDOMServer from \"react-dom/server\";\nimport IntlWrapper from \"../../IntlWrapper\";\nimport store from \"../../client/js/redux/store\";\nimport SMSVC from \"../../client/js/containers/SMSVC\";\nconst accountSid = \"AC4ef68249191e814286b355a3673c2fd0\";\nconst authToken = \"6e3b4d49d1aa18e5376abfce2b725741\";\nconst client = require(\"twilio\")(accountSid, authToken);\n\nrouter.post(\"/sendcode\", async (req, res) => {\n  client.messages\n    .create({\n      from: \"+15736147042\",\n      to: \"+8613798293187\",\n      //body: \"OTP 999888\"\n      //body: \"your OTP is: 999888. For: https://sms-receiver-demo.glitch.me/?otp=544543&EvsSSj4C6vl\"\n      body: \"Test message, verification code is 790583. It will expire in 100 seconds.\"\n    })\n    .then(() => {\n      res.send(JSON.stringify({ success: true }));\n    })\n    .catch(err => {\n      console.log(err);\n      res.send(JSON.stringify({ success: false }));\n    });\n});\n\nrouter.get(\"/\", async (req, res) => {\n  const lang = req.locale;\n  const translations = req.localeData[lang];\n\n  const appHtml = ReactDOMServer.renderToString(\n    <IntlWrapper store={store} locale={lang} messages={translations}>\n      <SMSVC />\n    </IntlWrapper>\n  );\n\n  const preloadedState = store.getState();\n  res.render(\"index\", {\n    appHtml,\n    preloadedState: JSON.stringify(preloadedState),\n    appData: JSON.stringify({\n      lang,\n      translations\n    })\n  });\n});\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/homeController.js","module.exports = require(\"babel-runtime/core-js/json/stringify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/core-js/json/stringify\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 37\n// module chunks = 0","import 'babel-polyfill';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider } from 'react-redux';\nimport { addLocaleData, IntlProvider } from 'react-intl';\n\nimport en from 'react-intl/locale-data/en';\nimport zh from 'react-intl/locale-data/zh';\n\naddLocaleData([...en, ...zh]);\naddLocaleData([\n    { locale: 'en-us', parentLocale: 'en' },\n    { locale: 'zh-hk', parentLocale: 'zh-Hant-HK' }\n]);\n\nfunction Fragment(props) {\n    return props.children || <span {...props} /> || null;\n}\n\nexport default class IntlWrapper extends Component {\n    static propTypes = {\n        store: PropTypes.object.isRequired,\n        locale: PropTypes.string.isRequired,\n        children: PropTypes.node.isRequired,\n        messages: PropTypes.object.isRequired\n    };\n\n    render() {\n        const { locale, store, children, messages } = this.props;\n\n        return (\n            <Provider store={store}>\n                <IntlProvider locale={locale} messages={messages} textComponent={Fragment}>\n                    {children}\n                </IntlProvider>\n            </Provider>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./IntlWrapper.js","module.exports = require(\"babel-runtime/helpers/toConsumableArray\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/toConsumableArray\"\n// module id = 39\n// module chunks = 0","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 40\n// module chunks = 0","module.exports = require(\"react-intl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-intl\"\n// module id = 41\n// module chunks = 0","module.exports = require(\"react-intl/locale-data/en\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-intl/locale-data/en\"\n// module id = 42\n// module chunks = 0","module.exports = require(\"react-intl/locale-data/zh\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-intl/locale-data/zh\"\n// module id = 43\n// module chunks = 0","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './rootReducer';\n\nconst initialState = {};\nconst enhancers = [];\nconst middleware = [\n    thunk\n];\n\nconst composeFn = typeof (window) !== 'undefined' ? (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose) : compose;\nconst composedEnhancers = composeFn(\n    applyMiddleware(...middleware),\n    ...enhancers\n);\n\nconst store = createStore(\n    rootReducer,\n    initialState,\n    composedEnhancers\n);\n\nexport function createStoreWithState(initialState) {\n    return createStore(\n        rootReducer,\n        initialState,\n        composedEnhancers\n    );\n}\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/redux/store.js","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = 45\n// module chunks = 0","import { combineReducers } from 'redux';\nimport ajaxStatusReducer from './reducers/ajaxStatusReducer';\n\nexport default combineReducers({\n    ajaxStatus: ajaxStatusReducer\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/redux/rootReducer.js","module.exports = require(\"babel-runtime/helpers/extends\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/helpers/extends\"\n// module id = 47\n// module chunks = 0","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { sendmycode } from \"../redux/actions/generalActions\";\n\nclass App extends Component {\n  static propTypes = {\n    sendmycode: PropTypes.func.isRequired,\n    ajaxStatus: PropTypes.object.isRequired\n  };\n\n  render() {\n    const { ajaxStatus, sendmycode } = this.props;\n\n    return (\n      <section className=\"home-content-section\">\n        <div className=\"container-fluid\">\n          <div style={{ margin: \"20px auto\" }}>\n            {/* <input name=\"verificationCode\"/>  or the one bellow*/}\n            {/* <input autoComplete=\"one-time-code\" /> */}\n            <input name=\"verificationCode\" type=\"number\"/>\n          </div>\n          <div style={{ margin: \"20px auto\" }}>\n            <button type=\"button\" onClick={sendmycode}>\n              Send Code\n            </button>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    ajaxStatus: state.ajaxStatus\n  };\n};\n\nexport default connect(mapStateToProps, { sendmycode })(App);\n\n\n\n// WEBPACK FOOTER //\n// ./client/js/containers/SMSVC.js","import axios from 'axios';\nimport {\n    SERVER_ERROR, SUBMIT_PENDING, SUBMIT_COMPLETE\n} from '../reducers/ajaxStatusReducer'\n\nexport function sendmycode() {\n    return async dispatch => {\n        try {\n            dispatch({\n                type: SUBMIT_PENDING,\n                sendForm: ''\n            });\n\n            const result = await axios.post('/sendcode');\n            console.log('result=', result)\n\n            dispatch({\n                type: SUBMIT_COMPLETE\n            });\n\n        }\n        catch (error) {\n            dispatch({\n                type: SERVER_ERROR\n            });\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./client/js/redux/actions/generalActions.js","module.exports = require(\"twilio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"twilio\"\n// module id = 50\n// module chunks = 0"],"sourceRoot":""}