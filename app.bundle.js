!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=16)}([function(e,t){e.exports=require("babel-runtime/regenerator")},function(e,t){e.exports=require("babel-runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("axios")},function(e,t){e.exports={home:"SMS-VC"}},function(e,t){e.exports={home:"短信验证码"}},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("babel-runtime/core-js/object/get-prototype-of")},function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("redux")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.RESET_STATUS=t.SUBMIT_COMPLETE=t.SUBMIT_PENDING=t.FETCH_COMPLETE=t.FETCH_PENDING=t.SERVER_ERROR=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(47));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case s:return(0,n.default)({},e,{isServerError:!0,isSubmitSuccess:!1,isLoading:!1,isSubmitting:!1,serverStatus:t.serverStatus,serverMessage:t.serverMessage,serverErrors:t.serverErrors});case a:return(0,n.default)({},e,{isLoading:!0});case o:return(0,n.default)({},e,{isLoading:!1,isServerError:!1,isSubmitSuccess:!1,serverStatus:""});case u:return(0,n.default)({},e,{isServerError:!1,isSubmitting:!0,isSubmitSuccess:!1,serverStatus:"",serverMessage:"",sendForm:t.sendForm});case i:return(0,n.default)({},e,{isSubmitting:!1,isSubmitSuccess:!0,isServerError:!1});case c:return(0,n.default)({},e,{isServerError:!1,isLoading:!1,isSubmitting:!1,isSubmitSuccess:!1,serverStatus:"",serverMessage:""});default:return e}};var s=t.SERVER_ERROR="beyondcars/ajaxStatus/fetchDataServerError",a=t.FETCH_PENDING="beyondcars/ajaxStatus/fetchPending",o=t.FETCH_COMPLETE="beyondcars/ajaxStatus/fetchComplete",u=t.SUBMIT_PENDING="beyondcars/ajaxStatus/submitPending",i=t.SUBMIT_COMPLETE="beyondcars/ajaxStatus/submitComplete",c=t.RESET_STATUS="beyondcars/ajaxStatus/resetStatus",l=t.initialState={isServerError:!1,isLoading:!1,isSubmitting:!1,isSubmitSuccess:!1,serverStatus:"",serverMessage:"",sendFrom:"",serverErrors:[]}},function(e,t,r){"use strict";var n=r(17);process.env.NODE_TLS_REJECT_UNAUTHORIZED=0;var s=process.env.NODE_ENV||"development",a="production"===s,o=process.env.PORT||3001,u=process.env.HOST||"localhost";a?n.listen(o,function(){console.log("Production server listening on port "+o+"...")}):n.listen(o,u,function(){console.log("Server is running on http://"+u+":"+o+" in "+s+" mode")})},function(e,t,r){"use strict";var n=o(r(18)),s=o(r(23)),a=o(r(24));function o(e){return e&&e.__esModule?e:{default:e}}var u=r(6);r(26);var i=r(27),c=r(28),l=u(),d=r(29),f=r(30),p=r(31),v=r(32);l.use(c()),l.set("view engine","ejs"),l.set("views",d.join(__dirname,"/server/views")),l.set("view cache",!1),l.use(u.static(d.join(__dirname,f.clientPath||"/public"))),global.__base=__dirname,l.use(v());var m=r(33),h={secret:"84t5Qy1C!Whl5rRKS#Wq%hz*%sMaNssL",cookie:{httpOnly:!0},proxy:!0,resave:!1,saveUninitialized:!1};"production"===process.env.NODE_ENV&&(h.cookie.secure=!0),l.use(m(h));var x=r(34);l.use(x.express()),l.use(a.default),l.use(n.default),l.use(p.urlencoded({extended:!1})),l.use(p.json()),l.use(i()),l.use(r(35)),l.use(s.default),l.get("*",function(e,t){t.status(404),t.render("error")}),e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(0)),s=c(r(19)),a=c(r(20)),o=c(r(1)),u=c(r(3)),i=c(r(21));function c(e){return e&&e.__esModule?e:{default:e}}u.default.defaults.params=u.default.defaults.params||{};var l=[{pattern:/^\/(sale\/double11|sale\/vnshow|sale\/blackfriday|sale\/christmas|keepsakes|travel-must-haves|authentic-experiences|bubbles|sale\/cny|sale\/easter|sale\/central-vietnam-travel)/i,fileName:"campaign"}];t.default=function(){var e=(0,o.default)(n.default.mark(function e(t,o,c){var d,f,p,v,m;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url.match(/^\/([A-Za-z]{2}-[A-Za-z]{2})([\/\?].*)?$/i)||(t.xhr||t.headers.accept&&t.headers.accept.indexOf("json")>=0)){e.next=9;break}if(!t.cookies||!t.cookies.lang){e.next=6;break}return e.abrupt("return",o.redirect("/"+t.cookies.lang.toLowerCase()+t.originalUrl));case 6:"/"===t.originalUrl?o.redirect("/en-us"):o.redirect("/en-us"+t.originalUrl);case 7:e.next=27;break;case 9:d=i.default.getLanguage(t,o),f=d.locale,p={},l.forEach(function(e){if(t.url.match(e.pattern))try{var n=r(22)("./"+f+"/"+e.fileName+".json");n&&(p=(0,a.default)(p,n))}catch(e){console.log(e)}}),v={},v=0===(0,s.default)(p).length?d.translations:(0,a.default)({},d.translations,p),m="/"+d.locale,t.langUrl=m,t.locale=f,t.localeData={},t.localeData[f]=v,t.langId=d.id,u.default.defaults.params.langId=d.id,o.locals.translations=v,o.locals.locale=f,o.locals.langUrl=m,o.locals.languageText=d.text,c();case 27:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},function(e,t,r){"use strict";var n=a(r(4)),s=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}var o=2592e6,u="lang",i={"en-us":{id:1,translations:n.default,text:"English",locale:"en-us"},"zh-hk":{id:2,translations:s.default,text:"繁體中文",locale:"zh-hk"}};e.exports={languages:i,getLanguage:function(e,t){var r="en-us",n=e.url.match(/^\/([A-Za-z]{2}-[A-Za-z]{2})([\/\?].*)?$/i);return n&&(r=n[1],e.url=n[2]||"/"),(e.xhr||e.headers.accept&&e.headers.accept.indexOf("json")>=0)&&e.cookies&&e.cookies[u]&&(r=e.cookies[u].toLowerCase()),i[r]||(r="en-us"),t.cookie(u,r,{maxAge:o,path:"/"}),i[r]},setLanguage:function(e,t){t&&e.cookie("lang",t,{maxAge:o,path:"/"})},setUserSession:function(e,t){t.token&&(e.session.userToken=t.token),t.pinCode&&(e.session.pinCode=t.pinCode),t.quotationId&&(e.session.quotationId=t.quotationId)}}},function(e,t,r){var n={"./en.json":4,"./zh.json":5};function s(e){return r(a(e))}function a(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id=22},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){var s=t.headers["x-forwarded-for"]||t.connection.remoteAddress||t.socket.remoteAddress||(t.connection.socket?t.connection.socket.remoteAddress:null);console.error("Client IP: "+s+", RequestUrl: "+t.originalUrl),console.error(e.stack);var a=e.response;a&&401===a.status&&t.session&&t.session.userToken&&t.session.destroy();if(t.xhr||t.headers.accept&&t.headers.accept.indexOf("json")>-1)a?r.status(a.status).json(a.data):r.status(500).json({message:"INTERNAL SERVER ERROR"});else if(a)switch(a.status){case 401:case 400:case 404:r.status(a.status),r.render("error");break;default:r.status(500),r.render("error")}else r.status(500),r.render("error")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),s=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=r(25);t.default=function(){var e=(0,s.default)(n.default.mark(function e(t,r,s){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("GET"!==t.method||t.path.toLowerCase()===t.path){e.next=6;break}return(a=o.parse(t.originalUrl)).pathname=a.pathname.toLowerCase(),e.abrupt("return",r.redirect(301,o.format(a)));case 6:s();case 7:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("express-async-errors")},function(e,t){e.exports=require("nocache")},function(e,t){e.exports=require("helmet")},function(e,t){e.exports=require("path")},function(e,t){e.exports={clientPath:"/public","sms-vc":{webUrl:"https://localhost:3001"},api:{defaultApiUrl:"http://127.0.0.1:8091",username:"user",password:"pass"},log:{level:"debug",info_filepath:"logs/ff-info.log",error_filepath:"logs/ff-error.log"},cloudinary:{imageUrlPrefix:"https://res.cloudinary.com/sms-vc/image/upload/q_auto,f_auto",cloud_name:"sms-vc",api_key:"smsvc9999999999999",api_secret:"smsvc888888888888",assetUrlPrefix:"https://res.cloudinary.com/sms-vc/raw/upload/q_auto,f_auto",assetFolder:"sms-vc/assets"}}},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("express-useragent")},function(e,t,r){"use strict";var n=d(r(0)),s=d(r(36)),a=d(r(1)),o=d(r(2)),u=d(r(37)),i=d(r(38)),c=d(r(44)),l=d(r(48));function d(e){return e&&e.__esModule?e:{default:e}}var f=r(6).Router(),p=r(50)("AC4ef68249191e814286b355a3673c2fd0","6e3b4d49d1aa18e5376abfce2b725741");f.post("/sendcode",function(){var e=(0,a.default)(n.default.mark(function e(t,r){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:p.messages.create({from:"+15736147042",to:"+8613798293187",body:"Test message, verification code is 790583. It will expire in 100 seconds."}).then(function(){r.send((0,s.default)({success:!0}))}).catch(function(e){console.log(e),r.send((0,s.default)({success:!1}))});case 1:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),f.get("/",function(){var e=(0,a.default)(n.default.mark(function e(t,r){var a,d,f,p;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.locale,d=t.localeData[a],f=u.default.renderToString(o.default.createElement(i.default,{store:c.default,locale:a,messages:d},o.default.createElement(l.default,null))),p=c.default.getState(),r.render("index",{appHtml:f,preloadedState:(0,s.default)(p),appData:(0,s.default)({lang:a,translations:d})});case 5:case"end":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}()),e.exports=f},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t){e.exports=require("react-dom/server")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(7)),s=h(r(8)),a=h(r(9)),o=h(r(10)),u=h(r(11)),i=h(r(39));r(40);var c=r(2),l=h(c),d=h(r(12)),f=r(13),p=r(41),v=h(r(42)),m=h(r(43));function h(e){return e&&e.__esModule?e:{default:e}}function x(e){return e.children||l.default.createElement("span",e)||null}(0,p.addLocaleData)([].concat((0,i.default)(v.default),(0,i.default)(m.default))),(0,p.addLocaleData)([{locale:"en-us",parentLocale:"en"},{locale:"zh-hk",parentLocale:"zh-Hant-HK"}]);var b=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.locale,r=e.store,n=e.children,s=e.messages;return l.default.createElement(f.Provider,{store:r},l.default.createElement(p.IntlProvider,{locale:t,messages:s,textComponent:x},n))}}]),t}(c.Component);b.propTypes={store:d.default.object.isRequired,locale:d.default.string.isRequired,children:d.default.node.isRequired,messages:d.default.object.isRequired},t.default=b},function(e,t){e.exports=require("babel-runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("babel-polyfill")},function(e,t){e.exports=require("react-intl")},function(e,t){e.exports=require("react-intl/locale-data/en")},function(e,t){e.exports=require("react-intl/locale-data/zh")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStoreWithState=function(e){return(0,n.createStore)(a.default,e,i)};var n=r(14),s=o(r(45)),a=o(r(46));function o(e){return e&&e.__esModule?e:{default:e}}var u=[s.default],i=("undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.compose).apply(void 0,[n.applyMiddleware.apply(void 0,u)].concat([])),c=(0,n.createStore)(a.default,{},i);t.default=c},function(e,t){e.exports=require("redux-thunk")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),s=function(e){return e&&e.__esModule?e:{default:e}}(r(15));t.default=(0,n.combineReducers)({ajaxStatus:s.default})},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(r(7)),s=p(r(8)),a=p(r(9)),o=p(r(10)),u=p(r(11)),i=r(2),c=p(i),l=r(13),d=p(r(12)),f=r(49);function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.ajaxStatus,e.sendmycode);return c.default.createElement("section",{className:"home-content-section"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{style:{margin:"20px auto"}},c.default.createElement("input",{name:"verificationCode",type:"number"})),c.default.createElement("div",{style:{margin:"20px auto"}},c.default.createElement("button",{type:"button",onClick:t},"Send Code"))))}}]),t}(i.Component);v.propTypes={sendmycode:d.default.func.isRequired,ajaxStatus:d.default.object.isRequired};t.default=(0,l.connect)(function(e){return{ajaxStatus:e.ajaxStatus}},{sendmycode:f.sendmycode})(v)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(0)),s=u(r(1));t.sendmycode=function(){var e=this;return function(){var t=(0,s.default)(n.default.mark(function t(r){var s;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:o.SUBMIT_PENDING,sendForm:""}),e.next=4,a.default.post("/sendcode");case 4:s=e.sent,console.log("result=",s),r({type:o.SUBMIT_COMPLETE}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r({type:o.SERVER_ERROR});case 12:case"end":return e.stop()}},t,e,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()};var a=u(r(3)),o=r(15);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("twilio")}]);
//# sourceMappingURL=app.bundle.js.map